<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="./css/load.css">
    <link rel="stylesheet" href="./css/main.css">
    <link rel="icon" href="./img/512testlyric.png">
    <link rel="manifest" href="./manifest.webmanifest">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script>
        if(navigator.serviceWorker){
            navigator.serviceWorker.register("/js/service-worker.js")
        }
        var button = document.getElementById("notifications");
button.addEventListener("click", function (e) {
  Notification.requestPermission().then(function (result) {
    if (result === "granted") {
      randomNotification();
    }
  });
});
function randomNotification() {
  var randomItem = Math.floor(Math.random() * games.length);
  var notifTitle = games[randomItem].name;
  var notifBody = "Created by " + games[randomItem].author + ".";
  var notifImg = "data/img/" + games[randomItem].slug + ".jpg";
  var options = {
    body: notifBody,
    icon: notifImg,
  };
  var notif = new Notification(notifTitle, options);
  setTimeout(randomNotification, 30000);
}

        function notifi(){
            if (Notification.permission === 'granted') {
        const notification = new Notification('通知のタイトル', {
            body: 'これは通知の本文です。',
            icon: 'icon.png'
        });
        navigator.setAppBadge(10)
        }
        }
    </script>
    <title>lyricviewer v.α1</title>
</head>
<body>
    <div class="loading"><span class="loadtext">読み込み中・・・</span></div>
    <button onclick="notifi()">通知</button>
    <button id="notifications">通知2</button>
    <ui></ui>
</body>
</html>